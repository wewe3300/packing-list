
<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>å‡ºåœ‹è¡Œææº–å‚™æ¸…å–®</title>
  <style>
    body { font-family: "Segoe UI", sans-serif; margin: 0; padding: 1rem; background: #f5f5f5; }
    .category { background: white; border-radius: 10px; box-shadow: 0 2px 6px rgba(0,0,0,0.1); margin-bottom: 1rem; overflow: hidden; }
    summary { background: #eee; padding: 1rem; font-weight: bold; cursor: pointer; font-size: 1.1rem; }
    .items { padding: 1rem; }
    .item { display: flex; align-items: center; gap: 0.5rem; margin: 0.5rem 0; flex-wrap: wrap; }
    .item input[type="checkbox"] { width: 24px; height: 24px; }
    .item input[type="number"] { width: 60px; }
    .item input[type="text"], .item textarea { flex: 1; resize: vertical; height: 2.5rem; }
    .readonly-text { flex: 1; font-size: 1rem; }
    .readonly-text small { font-size: 0.8rem; color: #888; display: block; margin-top: 0.2rem; }
    .controls { text-align: right; margin-top: 1rem; }
    button { margin-left: 0.5rem; padding: 0.5rem 1rem; }
    #error-log { color: red; font-size: 0.9rem; margin-top: 1rem; white-space: pre-wrap; }
  </style>
</head>
<body>
  <h1>ğŸ§³ å‡ºåœ‹è¡Œææº–å‚™æ¸…å–®</h1>
  <div id="list"></div>
  <div class="controls">
    <button onclick="saveProgress()">ğŸ’¾ å„²å­˜ç´€éŒ„</button>
    <button onclick="resetList()">ğŸ”„ é‡è¨­</button>
  </div>
  <div id="error-log"></div>
  <script id="packing-data" type="application/json">
[
  {
    "title": "ğŸ“„ é‡è¦æ–‡ä»¶èˆ‡è­‰ä»¶",
    "items": [
      {
        "emoji": "ğŸ›‚",
        "name": "è­·ç…§",
        "note": "æœ‰æ•ˆæœŸè‡³å°‘6å€‹æœˆ"
      },
      {
        "emoji": "ğŸªª",
        "name": "èº«åˆ†è­‰"
      },
      {
        "emoji": "ğŸ›ƒ",
        "name": "ç°½è­‰ã€é›»å­å…¥å¢ƒ",
        "note": "æ—¥æœ¬å…¥å¢ƒå…ç°½è­‰"
      },
      {
        "emoji": "âœˆï¸",
        "name": "ç™»æ©Ÿè­‰",
        "note": "ç´™æœ¬æˆ–é›»å­ç‰ˆ"
      },
      {
        "emoji": "ğŸ’³",
        "name": "ä¿¡ç”¨å¡ã€ææ¬¾å¡"
      },
      {
        "emoji": "ğŸ’µ",
        "name": "ç¾é‡‘",
        "note": "å°å¹£èˆ‡ç•¶åœ°è²¨å¹£"
      },
      {
        "emoji": "ğŸ“„",
        "name": "ä¿éšªè³‡æ–™",
        "note": "æ—…éŠä¿éšªã€é†«ç™‚ä¿éšª"
      },
      {
        "emoji": "ğŸ“",
        "name": "ä½å®¿èˆ‡äº¤é€šé è¨‚ç¢ºèªå‡½"
      },
      {
        "emoji": "ğŸ–Šï¸",
        "name": "åŸå­ç­†",
        "note": "å¡«å¯«å…¥å¢ƒå¡ç”¨"
      },
      {
        "emoji": "â•",
        "custom": true
      },
      {
        "emoji": "â•",
        "custom": true
      },
      {
        "emoji": "â•",
        "custom": true
      },
      {
        "emoji": "â•",
        "custom": true
      },
      {
        "emoji": "â•",
        "custom": true
      }
    ]
  },
  {
    "title": "ğŸ‘• è¡£ç‰©é¡",
    "items": [
      {
        "emoji": "ğŸ‘•",
        "name": "ä¸Šè¡£",
        "quantity": 6,
        "note": "ä¾å¤©æ•¸æº–å‚™"
      },
      {
        "emoji": "ğŸ‘–",
        "name": "è¤²å­",
        "quantity": 3,
        "note": "å»ºè­°2-3ä»¶å¯æ›¿æ›"
      },
      {
        "emoji": "ğŸ§¥",
        "name": "å¤–å¥—",
        "note": "ä¾æ°£å€™é¸æ“‡"
      },
      {
        "emoji": "ğŸ©³",
        "name": "ç¡è¡£"
      },
      {
        "emoji": "ğŸ§¦",
        "name": "è¥ªå­",
        "quantity": 6,
        "note": "ä¾å¤©æ•¸æº–å‚™"
      },
      {
        "emoji": "ğŸ§¢",
        "name": "å¸½å­ï¼å¤ªé™½çœ¼é¡"
      },
      {
        "emoji": "ğŸ§¤",
        "name": "æ‰‹å¥—ã€åœå·¾",
        "note": "å¯’å†·åœ°å€"
      },
      {
        "emoji": "ğŸ‘Ÿ",
        "name": "èˆ’é©é‹ï¼æ‹–é‹"
      },
      {
        "emoji": "â•",
        "custom": true
      },
      {
        "emoji": "â•",
        "custom": true
      },
      {
        "emoji": "â•",
        "custom": true
      },
      {
        "emoji": "â•",
        "custom": true
      },
      {
        "emoji": "â•",
        "custom": true
      }
    ]
  },
  {
    "title": "ğŸ”Œ é›»å­ç”¢å“",
    "items": [
      {
        "emoji": "ğŸ“±",
        "name": "æ‰‹æ©Ÿèˆ‡å……é›»å™¨ã€æ‰‹éŒ¶å……é›»å™¨"
      },
      {
        "emoji": "ğŸ”‹",
        "name": "è¡Œå‹•é›»æº",
        "note": "éœ€æœ‰æ¨™ç¤ºWh/mAh"
      },
      {
        "emoji": "ğŸ”Œ",
        "name": "è¬ç”¨è½‰æ¥é ­",
        "note": "æ—¥æœ¬æ’åº§å£ç›¸åŒ"
      },
      {
        "emoji": "ğŸ’»",
        "name": "ç­†è¨˜å‹é›»è…¦ï¼å¹³æ¿",
        "note": "å¦‚éœ€"
      },
      {
        "emoji": "ğŸ“·",
        "name": "ç›¸æ©Ÿèˆ‡è¨˜æ†¶å¡ã€é›»æ± ã€å……é›»å™¨"
      },
      {
        "emoji": "ğŸ§",
        "name": "è€³æ©Ÿ"
      },
      {
        "emoji": "ğŸ”Œ",
        "name": "å»¶é•·ç·š",
        "note": "å¦‚éœ€"
      },
      {
        "emoji": "â•",
        "custom": true
      },
      {
        "emoji": "â•",
        "custom": true
      },
      {
        "emoji": "â•",
        "custom": true
      },
      {
        "emoji": "â•",
        "custom": true
      },
      {
        "emoji": "â•",
        "custom": true
      }
    ]
  },
  {
    "title": "ğŸ› ç›¥æ´—ç”¨å“",
    "items": [
      {
        "emoji": "ğŸª¥",
        "name": "ç‰™åˆ·ã€ç‰™è†",
        "note": "é£¯åº—çš†æœ‰å‚™å“"
      },
      {
        "emoji": "ğŸ§¼",
        "name": "æ´—é¢ä¹³ã€æ²æµ´ä¹³ã€æ´—é«®ç²¾",
        "note": "é£¯åº—çš†æœ‰å‚™å“"
      },
      {
        "emoji": "ğŸ§´",
        "name": "å€‹äººè­·è†šå“",
        "note": "åŒ–å¦æ°´ã€ä¹³æ¶²ã€é˜²æ›¬"
      },
      {
        "emoji": "ğŸª’",
        "name": "åˆ®é¬åˆ€ï¼å¥³æ€§å€‹äººç”¨å“"
      },
      {
        "emoji": "ğŸ§½",
        "name": "æ¯›å·¾ã€æ¢³å­",
        "note": "é£¯åº—çš†æœ‰å‚™å“"
      },
      {
        "emoji": "ğŸ§¼",
        "name": "ä¹¾æ´—æ‰‹",
        "note": "å‹¿è¶…é100ML"
      },
      {
        "emoji": "ğŸ§´",
        "name": "é˜²èšŠæ¶²ï¼æ­¢ç™¢è—¥è†"
      },
      {
        "emoji": "â•",
        "custom": true
      },
      {
        "emoji": "â•",
        "custom": true
      },
      {
        "emoji": "â•",
        "custom": true
      },
      {
        "emoji": "â•",
        "custom": true
      },
      {
        "emoji": "â•",
        "custom": true
      }
    ]
  },
  {
    "title": "ğŸ’Š é†«è—¥ç”¨å“",
    "items": [
      {
        "emoji": "ğŸ’Š",
        "name": "å¸¸å‚™è—¥",
        "note": "æ„Ÿå†’è—¥ã€æ­¢ç—›è—¥ã€è…¸èƒƒè—¥"
      },
      {
        "emoji": "ğŸ©¹",
        "name": "OKç¹ƒã€ç´—å¸ƒã€æ¶ˆæ¯’è—¥æ°´"
      },
      {
        "emoji": "ğŸ©º",
        "name": "å€‹äººè™•æ–¹è—¥",
        "note": "å»ºè­°æ”œå¸¶é†«å¸«è™•æ–¹"
      },
      {
        "emoji": "â•",
        "custom": true
      },
      {
        "emoji": "â•",
        "custom": true
      },
      {
        "emoji": "â•",
        "custom": true
      },
      {
        "emoji": "â•",
        "custom": true
      },
      {
        "emoji": "â•",
        "custom": true
      }
    ]
  },
  {
    "title": "ğŸ’ éš¨èº«ç‰©å“",
    "items": [
      {
        "emoji": "ğŸ«",
        "name": "æ©Ÿç¥¨ï¼äº¤é€šç¥¨åˆ¸"
      },
      {
        "emoji": "ğŸ—¾",
        "name": "è¡Œç¨‹å¸æ©Ÿ/åŒ…è»Šå¸æ©Ÿ/é£¯åº—è³‡è¨Š"
      },
      {
        "emoji": "ğŸ“±",
        "name": "SIMå¡ï¼eSIMè¨­å®š"
      },
      {
        "emoji": "ğŸ§´",
        "name": "é…’ç²¾å™´éœ§ï¼ä¹¾æ´—æ‰‹"
      },
      {
        "emoji": "ğŸ˜·",
        "name": "å£ç½©"
      },
      {
        "emoji": "ğŸ›ï¸",
        "name": "æŠ˜ç–Šè³¼ç‰©è¢‹"
      },
      {
        "emoji": "ğŸ§³",
        "name": "è¡Œæç§¤"
      },
      {
        "emoji": "ğŸ§»",
        "name": "è¡›ç”Ÿç´™ï¼æ¿•ç´™å·¾"
      },
      {
        "emoji": "â•",
        "custom": true
      },
      {
        "emoji": "â•",
        "custom": true
      },
      {
        "emoji": "â•",
        "custom": true
      },
      {
        "emoji": "â•",
        "custom": true
      },
      {
        "emoji": "â•",
        "custom": true
      }
    ]
  }
]
  </script>
  <script>
    try {
      const data = JSON.parse(document.getElementById("packing-data").textContent);

      function renderList() {
        const container = document.getElementById('list');
        container.innerHTML = '';
        data.forEach((category, idx) => {
          const details = document.createElement('details');
          details.className = 'category';
          details.open = idx === 0;
          const summary = document.createElement('summary');
          summary.textContent = category.title;
          const content = document.createElement('div');
          content.className = 'items';
          category.items.forEach(item => {
            const row = document.createElement('div');
            row.className = 'item';
            const checkbox = document.createElement('input');
            checkbox.type = 'checkbox';
            const number = document.createElement('input');
            number.type = 'number';
            number.min = 1;
            number.value = item.quantity || 1;
            const note = document.createElement('textarea');
            note.placeholder = 'å‚™è¨»...';
            if (item.custom) {
              const customInput = document.createElement('input');
              customInput.type = 'text';
              customInput.placeholder = 'è«‹è¼¸å…¥å“é …åç¨±';
              customInput.style.flex = '1';
              row.append(checkbox, customInput, number, note);
            } else {
              const label = document.createElement('div');
              label.className = 'readonly-text';
              label.innerHTML = `${item.emoji} ${item.name}` + (item.note ? `<small>${item.note}</small>` : '');
              row.append(checkbox, label, number, note);
            }
            content.appendChild(row);
          });
          details.append(summary, content);
          container.appendChild(details);
        });
      }

      function saveProgress() {
        const checkboxes = document.querySelectorAll('.item input[type="checkbox"]');
        const names = document.querySelectorAll('.item input[type="text"]');
        const quantities = document.querySelectorAll('.item input[type="number"]');
        const notes = document.querySelectorAll('.item textarea');
        const saved = Array.from(checkboxes).map((c, i) => ({ checked: c.checked, name: names[i]?.value || '', quantity: quantities[i]?.value, note: notes[i]?.value }));
        localStorage.setItem('packingListProgress', JSON.stringify(saved));
        alert('âœ… å·²å„²å­˜ç´€éŒ„ï¼');
      }

      function resetList() {
        localStorage.removeItem('packingListProgress');
        renderList();
      }

      function restoreProgress() {
        const saved = JSON.parse(localStorage.getItem('packingListProgress')) || [];
        const checkboxes = document.querySelectorAll('.item input[type="checkbox"]');
        const names = document.querySelectorAll('.item input[type="text"]');
        const quantities = document.querySelectorAll('.item input[type="number"]');
        const notes = document.querySelectorAll('.item textarea');
        saved.forEach((item, i) => {
          if (checkboxes[i]) checkboxes[i].checked = item.checked;
          if (names[i]) names[i].value = item.name;
          if (quantities[i]) quantities[i].value = item.quantity;
          if (notes[i]) notes[i].value = item.note;
        });
      }

      renderList();
      restoreProgress();
    } catch (err) {
      document.getElementById("error-log").textContent = "âš ï¸ éŒ¯èª¤ï¼š" + err.message;
    }
  </script>
</body>
</html>
